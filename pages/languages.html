<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="../libs/fontawesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="../style/index.css">

    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <title>BTB Lab. | JavaScript | Languages </title>
    <meta name="google-site-verification" content="XjkUm8M885lvmNSs9BKe9khMCQY99rSfGsN3Tf6yfBY" />

    <meta property="og:title" content="Black Tool Box Laboratory | JavaScript | About"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://blacktoolboxlaboratory.github.io/javascript"/>
    <meta property="og:image" content=""/>
    <meta name="description" property="og:description" content="
    For developing the web-side of international services, we usually have the requirement to develop with the feature of multiple-languages supported. We already have a lot of masterpice such like i18n. But here we created our own multiple-languages package for lowing down the dependencies. And after adding a little code, we can apply it with other javascript frameworks like React.js, Vue.js ... and so on."/>
    
    <meta property="fb:app_id" content="271733690121245"/>

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@vannoel0628" />
    <meta name="twitter:creator" content="@vannoel0628" />
  </head>
  <body id="language" class="page">
    <div class="page_container">
      <div class="page_head">
        <h1 class="page_title">Languages</h1>
        <a class="head_linkBtn linkBtn-github" href="https://github.com/BlackToolBoxLaboratory/prototype-languages" target="_blank">
          <i class="fab fa-github fa-fw"></i>
        </a>
        <a class="head_linkBtn linkBtn-npm" href="https://www.npmjs.com/package/@blacktoolbox/prototype-languages" target="_blank">
          <i class="fab fa-npm fa-fw"></i>
        </a>
      </div>
      <section class="page_section">
        <div class="section_title">
          <div class="page_version">Version: 1.1.1</div>
          <div class="page_releaseDate">Release Date: Jan. 20, 2020</div>
        </div>
        <div class="section_block">
          For developing the web-side of international services, we usually have the requirement to develop with the feature of multiple-languages supported. We already have a lot of masterpice such like i18n. But here we created our own multiple-languages package for lowing down the dependencies. And after adding a little code, we can apply it with other javascript frameworks like React.js, Vue.js ... and so on.
        </div>
      </section>
      <section class="page_section">
        <div class="section_title">INSTALLATION</div>
        <div class="section_block">
<pre class="page_pre">
$ npm install --save @blacktoolbox/prototype-languages

<code class="pre_notice">// using ES6 modules</code>
import Language, { initializer } from '@blacktoolbox/prototype-languages';

<code class="pre_notice">// using CommonJS modules</code>
var Language = require('@blacktoolbox/prototype-languages');
var initializer = require('@blacktoolbox/prototype-languages').initializer;

<code class="pre_notice">// using in HTML directly</code>
&lt;script type="text/javascript" src="./libs/prototype-languages/index.min.js"&gt;&lt;/script&gt;
<code class="pre_typeof">Class</code> globalThis['btblab-languages'].default;
<code class="pre_typeof">Function</code> globalThis['btblab-languages'].initializer;
</pre>
        </div>
      </section>
      <section class="page_section">
        <div class="section_title">APPLICATION</div>
        <div class="section_block">
          <div class="block_title">Initializer</div>
          <div class="block_description">
            Before to use, we have to initialize. The input is an Array and the structure of each entry is { index: '', label: '', dictionary: {...} } as each language.
          </div>
<pre class="page_pre">
initializer([
  { index: 'en_US', label: 'US', dictionary: {'text': 'test %1, test%2, test %1'} },
  { index: 'zh_TW', label: 'Taiwan', dictionary: {'text': '測試 %1, 測試%2, 測試 %1'} }
])
</pre>
          <div class="block_description">
            After v1.1.0, it is supported to use nest-structure dictionary which means we can defined like:
          </div>
<pre class="page_pre">
dictionary: {
  'a':{
    'aa': {
      'aaa': 'AAA',
      'aab': 'AAB'
    }
  },
  'b': {
    'ba': 'BA'
  }
}
</pre>
          <div class="block_description">
            Then, languages.translate('a.aa.aaa') will be 'AAA' and languages.translate('b.ba') will be 'BA'. And while can not finding its string, it will response the key path as our input. like languages.translate('notFound') will be 'notFound'.
          </div>
        </div>
        <div class="section_block">
          <div class="block_title">Methods</div>
          <div class="block_description">
            We can begin to use after to create a instance from Language. The default language is the first in the initializerconfig
          </div>
<pre class="page_pre">
<code class="pre_notice">// using as module</code>
const languages = new Language();

<code class="pre_notice">// using in HTML directly</code>
const languages = new globalThis['btblab-languages'].default();
</pre>
          <div class="block_description">
            Then, we have some hooks inside the Language:
          </div>
          <div class="block_entry">
            <div class="entry_title">- menu();</div>
            <div class="entry_content">// To list out the menu of languages, for you can render a language list as a selector likely.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- get(); </div>
            <div class="entry_content">// To get the current language.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- set(languageIndex);</div>
            <div class="entry_content">// To set new language Index as current language. Do not forget to update rendering, and then all translate() will be with the new setting.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- translate(stringIndex, repacement);</div>
            <div class="entry_content">// To translate string by the current language. And the repacement is optional input.</div>
<pre class="page_pre">
<code class="pre_notice">// For example: text is the index of 'test %1, test%2, test %1';</code>
languages.translate('text');
>> test %1, test%2, test %1

languages.translate('text', {'%1': 'abc', '%2': 'xyz'});
>> test abc, testxyz, test abc
</pre>
          </div>
        </div>
      </section>
    </div>

    <script type="text/javascript" src="../libs/jquery/jquery.min.js"></script>
    <script>
      function redirectHash(path) {
        top.location.hash = "#/"+ path;
      }
    </script>
  </body>
</html>