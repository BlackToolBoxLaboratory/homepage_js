<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="../libs/fontawesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="../style/index.css">

    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <title>BTB Lab. | JavaScript | Validator </title>
    <meta name="google-site-verification" content="XjkUm8M885lvmNSs9BKe9khMCQY99rSfGsN3Tf6yfBY" />

    <meta property="og:title" content="Black Tool Box Laboratory | JavaScript | About"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://blacktoolboxlaboratory.github.io/javascript"/>
    <meta property="og:image" content=""/>
    <meta name="description" property="og:description" content="
    Most form UI packages have their own validator to use for convenience. But sometimes we don't use only one UI packages to develop every single project. So we try to create the validator generally to adapt to every kind of form UI packages to allow us using just one type of validator coding patteren to develop with every UI packages."/>
    
    <meta property="fb:app_id" content="271733690121245"/>

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@vannoel0628" />
    <meta name="twitter:creator" content="@vannoel0628" />
  </head>
  <body id="validator" class="page">
    <div class="page_container">
      <div class="page_head">
        <h1 class="page_title">Validator</h1>
        <a class="head_linkBtn linkBtn-github" href="https://github.com/BlackToolBoxLaboratory/prototype-validator" target="_blank">
          <i class="fab fa-github fa-fw"></i>
        </a>
        <a class="head_linkBtn linkBtn-npm" href="https://www.npmjs.com/package/@blacktoolbox/prototype-validator" target="_blank">
          <i class="fab fa-npm fa-fw"></i>
        </a>
      </div>
      <section class="page_section">
        <div class="section_title">
          <div class="page_version">
            <span btb-lang="package.version_colon">Version: </span>
            <span>1.0.0</span>
          </div>
          <div class="page_releaseDate">
            <span btb-lang="package.release_colon">Release Date: </span>
            <span>Jan. 20, 2020</span>
          </div>
        </div>
        <div class="section_block" btb-lang="package.validator.description">
          Most form UI packages have their own validator to use for convenience. But sometimes we don't use only one UI packages to develop every single project. So we try to create the validator generally to adapt to every kind of form UI packages to allow us using just one type of validator coding patteren to develop with every UI packages.
        </div>
      </section>
      <section class="page_section">
        <div class="section_title" btb-lang="package.secation.title.installation">INSTALLATION</div>
        <div class="section_block">
<pre class="page_pre">
$ npm install --save @blacktoolbox/prototype-validator

<code class="pre_notice">// using ES6 modules</code>
import Validator from '@blacktoolbox/prototype-validator';

<code class="pre_notice">// using CommonJS modules</code>
var Validator = require('@blacktoolbox/prototype-validator');

<code class="pre_notice">// using in HTML directly</code>
&lt;script type="text/javascript" src="./libs/prototype-validator/index.min.js"&gt;&lt;/script&gt;
<code class="pre_typeof">Class</code> globalThis['btblab-validator'].default;
</pre>
        </div>
      </section>
      <section class="page_section">
        <div class="section_title" btb-lang="package.secation.title.application">APPLICATION</div>
        <div class="section_block">
          <div class="block_title" btb-lang="package.validator.block.event.title">Event Rules</div>
          <div class="block_description" btb-lang="package.validator.block.event.description.example">
            The validator is designed as a validator for 'event' which means it is not design for 'form'. So it do not bind with form and only triggered by event or function. For this, we need defined the event rule map as follow for example as following.
          </div>
<pre class="page_pre">
const rules = {
  'accChange' : [
    {
      rule    : 'strLength|min:2',
      message : 'Username length required 2 at least.'
    }
  ],
  'pwdChange' : [
    {
      rule    : 'strAbsLength|absolute:6',
      message : 'Password length must be 6.'
    }
  ],
  'valueTest' : [
    {
      rule    : 'numAbsValue|absolute:6',
      message : 'Password length must be 6.'
    }
  ],
  'typeCheck' : [
    {
      rule    : 'type|type:number',
      message : 'Type error.'
    }
  ],
  'ipCheck' : [
    {
      rule    : 'format|type:ivp4',
      message : 'Type error.'
    }
  ],
  'portChange' : [
    {
      rule    : 'numRange|min:1;max:65535',
      message : 'Port limited between 1-65535'
    },
    {
      rule    : function(value){
        return (value !== 777)
      },
      message : 'Port 777 is forbidden.'
    }
  ]
};
</pre>
          <div class="block_description" btb-lang="package.validator.block.event.description.structure">
            Every key name under rule are named with the concept of event, and they are also Array type which means we can have a list to make sure the values are actually we need. Every check rule can have their message. Cause the rule are defined in event angle. So we can execute when we need or different value validated with same rule depending on the user's design.
          </div>
          <div class="block_entry">
            <div class="entry_title">- rule:</div>
            <div class="entry_content" btb-lang="package.validator.block.event.rule">Rule config included type and parameters.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- message:</div>
            <div class="entry_content" btb-lang="package.validator.block.event.message">Message for while fail.</div>
          </div>
        </div>
        <div class="section_block">
          <div class="block_title">Rule Type</div>
          <div class="block_description" btb-lang="package.validator.block.event.description.type">
            Now we support some rule.
          </div>
          <div class="block_entry">
            <div class="entry_title">- type|type:[string]</div>
            <div class="entry_content" btb-lang="package.validator.block.event.ruleType.type">Check input's typeof.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- length|min:[number];max:[number]</div>
            <div class="entry_content" btb-lang="package.validator.block.event.ruleType.stringLength">Check the string's length between min and max. Otherwise, we can check min or max only like 'length|min:4'.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- absLength|absLength:[number]</div>
            <div class="entry_content" btb-lang="package.validator.block.event.ruleType.absoluteLength">Check the string's absolute length like string.length === absLength.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- range|min:[number];max:[number]</div>
            <div class="entry_content" btb-lang="package.validator.block.event.ruleType.numericRange">Check the number's range between min and max. Otherwise, we can check min or max only like 'range|min:4'.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- absValue|absValue:[number]</div>
            <div class="entry_content" btb-lang="package.validator.block.event.ruleType.absoluteValue">Check the number's absolute value like number === absValue.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- format|type:[string]</div>
            <div class="entry_content" btb-lang="package.validator.block.event.ruleType.format">Supported: email, numeric, literal, ivp4, mac</div>
          </div>
        </div>
        <div class="section_block">
          <div class="block_title" btb-lang="package.validator.block.methods.title">Methods</div>
          <div class="block_description" btb-lang="package.validator.block.methods.description.implement">
            Firstly we have to implement it, when we want to use the validator.
          </div>
<pre class="page_pre">
<code class="pre_notice">// using as module</code>
const validator = new Validator();

<code class="pre_notice">// using in HTML directly</code>
const validator = new globalThis['btblab-validator'].default();
</pre>
          <div class="block_description" btb-lang="package.validator.block.methods.description.introduction">
            And after defined the event-rule-map, we have some methods for using.
          </div>
          <div class="block_entry">
            <div class="entry_title">- init(rules);</div>
            <div class="entry_content" btb-lang="package.validator.block.methods.init">// To put our event-rule-map into the Validator to init it meanwhile create the status for each event rule.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- status(event);</div>
            <div class="entry_content" btb-lang="package.validator.block.methods.status">// Status() means get all status, and status(event) means to get the status of event we want.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- reset();</div>
            <div class="entry_content" btb-lang="package.validator.block.methods.reset">// Reset the status of events.</div>
          </div>
          <div class="block_entry">
            <div class="entry_title">- validate(event, value);</div>
            <div class="entry_content" btb-lang="package.validator.block.methods.validate">// Validate the value while event triggered.</div>
          </div>
        </div>
        <div class="section_block">
          <div class="block_title" btb-lang="package.validator.block.status.title">Status</div>
          <div class="block_description" btb-lang="package.validator.block.status.description.structure">
            The structure of status for each event.
          </div>
<pre class="page_pre">
const structureStatus = function() {
  this.message = '';
  this.status = 'none';
};
</pre>
          <div class="block_description" btb-lang="package.validator.block.status.description.state">
            Every event could be the three type of status: null, false, true. And null means the status is initialized.
          </div>
        </div>
      </section>
    </div>

    <script type="text/javascript" src="../libs/jquery/jquery.min.js"></script>
    <script>
      function translateAll() {
        $('[btb-lang]').each(function(index, entry){
          $(entry).html(top.envLang.translate(entry.getAttribute('btb-lang')))
        })
      }

      function redirectHash(path) {
        top.location.hash = "#/"+ path;
      }
      
      $(document).ready(function(){
        translateAll();
      });
    </script>
  </body>
</html>